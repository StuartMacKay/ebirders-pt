{% extends "admin/base_site.html" %}
{% load i18n l10n admin_urls admin_urls admin_modify static %}

{% block extrastyle %}
  {{ block.super }}
  {{ form.media }}
  <link rel="stylesheet" type="text/css" href="{% static "admin/css/forms.css" %}">
{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
  <a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
  <span> › </span>
  <a href="{% url 'admin:app_list' app_label='data' %}">Data</a>
  <span> › </span>
  <a href="{% url 'admin:data_species_changelist' %}">Species</a>
  <span> › Fetch</span>
</div>
{% endblock %}

{% block content %}
  <h1>{% trans "Change Species" %}</h1>
  <p>{% blocktranslate %}Change the species for the following Observations:{% endblocktranslate %}</p>
  <form action="" method="post">
    {% csrf_token %}

    {% localize off %}
      <ul>
        {% for observation in observations %}
          <li>
            {{ observation }} - {{ observation.species.get_common_name }}, {{ observation.checklist.identifier }}
            <input type="hidden" name="_selected_action" value="{{ observation.pk }}" />
          </li>
        {% endfor %}
      </ul>
    {% endlocalize %}

    <fieldset class="module aligned">
      <div class="form-row">
        <div>
          <div class="flex-container">
            <label for="{{ form.species.id_for_label }}" class="form-label">{{ form.species.label }}</label>
            <div>
              {{ form.species }}
              {% if form.species.help_text %}
                <div>
                  <small class="form-text text-muted">{{ form.species.help_text }}</small>
                </div>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </fieldset>
    <input type="hidden" name="action" value="change_species" />
    <input type="submit" name="apply" value="{% trans 'Change' %}" />
  </form>
{% endblock %}
